
## 一、View 常用属性

| 属性名 | 说明 |
|--------|------|
| `layout_width` / `layout_height` | 控制组件宽高，可设为 `match_parent` 或 `wrap_content` |
| `id` | 设置唯一标识符，供 Java/Kotlin 查找 |
| `background` | 设置背景颜色或背景图 |
| `padding` / `margin` | 控制内边距 / 外边距 |
| `visibility` | 控制组件是否显示，值有 `visible`、`invisible`、`gone` |
| `gravity` | 内容在组件内部的对齐方式（如文字居中） |
| `layout_gravity` | 控件在父容器中的对齐方式 |
| `text` / `textColor` / `textSize` | 设置文本内容、颜色、字体大小 |
| `onClick` | 设置点击事件处理方法 |

---

## 二、ListView 与 RecyclerView

### 2.1 ListView 简介

- 适用于展示较小数据量的列表
- 简单易用，可搭配 `ArrayAdapter`、`SimpleAdapter`、自定义 `BaseAdapter`
- 性能一般，不支持视图复用机制（在大数据量时效率较低）

### 2.2 RecyclerView 特点

- 高性能的列表控件，适用于大规模数据展示
- 核心组成：
  - `RecyclerView.Adapter`：适配器，绑定数据
  - `ViewHolder`：缓存子项视图，提升复用效率
  - `LayoutManager`：控制布局方式，如线性、网格、瀑布流
  - `ItemDecoration`：分隔线、边距装饰
  - `ItemAnimator`：添加/删除时的动画

### 2.3 LayoutManager 常见类型

- `LinearLayoutManager`：线性排列（垂直或水平）
- `GridLayoutManager`：网格排列
- `StaggeredGridLayoutManager`：瀑布流（支持不规则高度）

---

## 三、Android 布局方式

| 布局方式 | 特点 |
|----------|------|
| `LinearLayout` | 子组件线性排列，支持权重分配 |
| `RelativeLayout` | 子组件相对其他组件定位，适合复杂布局 |
| `ConstraintLayout` | 高性能，减少嵌套层级，灵活强大 |
| `FrameLayout` | 单一视图容器，支持覆盖叠加 |
| `GridLayout` | 表格布局，适合网格样式 |
| `CoordinatorLayout` | 支持手势滑动联动效果（配合 AppBarLayout） |

---

## 四、布局优化技巧

### 4.1 扁平化布局

- 尽量避免嵌套多层布局，如嵌套 `LinearLayout` + `RelativeLayout`
- 推荐使用 `ConstraintLayout` 减少层级，提高性能

### 4.2 include / merge 标签

- 使用 `<include>` 重复复用公共布局，提高开发效率
- 使用 `<merge>` 去除不必要的父布局，优化嵌套

### 4.3 ViewStub

- 用于延迟加载视图，在真正需要显示时才加载，减少初始绘制负担

### 4.4 使用 RecyclerView 替代 ScrollView + ListView

- RecyclerView 更适合处理动态列表和滚动内容，性能优于 ListView

### 4.5 避免过度绘制

- 尽量避免背景层级叠加
- 使用 GPU 渲染分析工具检查 overdraw（过度绘制）

### 4.6 tools 属性优化预览

- 开发时使用 `tools:text`、`tools:visibility` 等属性，不影响运行时
- 只在布局编辑器中生效，方便预览


